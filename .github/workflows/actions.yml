name: Using Docker Containers in Jobs

on:  [push, pull_request] #

jobs:
  node-docker:
    runs-on: ubuntu-latest
    services:
      app:
          image: alialaa17/node-api
          #env:
          ports:
            - 3001:3000
          #volumes:
          #options: --cpus 1 --host
      mongo:
          image: mongo
          #env:
          ports:
            - "27017:227017"
    steps:
      - name: Post a user
        run: 'curl -X POST http://localhost:3001/api/user -H ''Content-Type: application/json'' -d ''{"username": "hello","address": "dwded"}'''
      - name: Get Users
        run: curl http://localhost:3001/api/users
        
          

